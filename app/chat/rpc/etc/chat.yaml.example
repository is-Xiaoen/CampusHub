# ============================================================================
# Chat RPC 服务配置模板
# ============================================================================
# 使用方法：复制此文件为 chat.yaml，然后修改相应配置
# cp chat.yaml.example chat.yaml
# ============================================================================

Name: chat.rpc
ListenOn: 0.0.0.0:19003    # 使用高端口避免冲突

# 服务注册（Etcd）
Etcd:
  Hosts:
    - <ETCD_HOST>:2379    # 例如: 192.168.10.4:2379
  Key: chat.rpc

# 日志配置
Log:
  ServiceName: chat-rpc
  Mode: console
  Encoding: plain
  Level: info

# 数据库配置
MySQL:
  DataSource: <DB_USER>:<DB_PASSWORD>@tcp(<DB_HOST>:<DB_PORT>)/campushub_chat?charset=utf8mb4&parseTime=true&loc=Local
  # 示例: root:123456@tcp(192.168.10.4:3308)/campushub_chat?charset=utf8mb4&parseTime=true&loc=Local

# Redis 配置
Redis:
  Host: <REDIS_HOST>:6379
  Pass: "<REDIS_PASSWORD>"
  DB: 2    # 使用 DB2

# 消息队列配置（可选）
# MQ:
#   Brokers:
#     - <KAFKA_HOST>:9092
#   Topic: chat-notification

# RPC 客户端配置
UserRpc:
  Etcd:
    Hosts:
      - <ETCD_HOST>:2379
    Key: user.rpc
  NonBlock: true
  Timeout: 3000

ActivityRpc:
  Etcd:
    Hosts:
      - <ETCD_HOST>:2379
    Key: activity.rpc
  NonBlock: true
  Timeout: 3000

# 链路追踪（可选）
# Telemetry:
#   Name: chat-rpc
#   Endpoint: http://<JAEGER_HOST>:14268/api/traces
#   Sampler: 1.0
#   Batcher: jaeger
