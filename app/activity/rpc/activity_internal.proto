// Activity 内部服务 Proto 定义文件
// 文件说明：
//   定义活动模块的内部 gRPC 服务接口，供【其他微服务】调用。
//   不对外暴露，不经过 Gateway。
// 调用方：
//   - User RPC
//   - Chat RPC
//
// 字段编号规划：
//   - 1-30：基础字段
//   - 31-50：扩展字段
//   警告：字段编号一旦发布使用后不可更改或复用！
//
// 生成命令：
//   cd app/activity/rpc
//   goctl rpc protoc activity_internal.proto --go_out=./pb --go-grpc_out=./pb --zrpc_out=.
//
syntax = "proto3";

package activity_internal;

option go_package = "./pb";

// ActivityInternalService 活动内部服务（跨微服务调用）

service ActivityInternalService {
  // GetActivityBasic 获取活动基本信息
  // 调用方：User RPC（展示用户参与的活动）、Chat RPC（消息卡片）
  rpc GetActivityBasic(GetActivityBasicReq) returns (GetActivityBasicResp);

  // BatchGetActivityBasic 批量获取活动基本信息
  // 调用方：User RPC（批量查询用户参与的活动列表）
  rpc BatchGetActivityBasic(BatchGetActivityBasicReq) returns (BatchGetActivityBasicResp);
}

// GetActivityBasic 获取活动基本信息

message GetActivityBasicReq {
  int64 id = 1;  // 活动ID
}

message GetActivityBasicResp {
  int64 id = 1;                       // 活动ID
  string title = 2;                   // 活动标题
  int32 status = 3;                   // 活动状态(0-6)
  string cover_url = 4;               // 封面URL
  int32 cover_type = 5;               // 封面类型
  string location = 6;                // 活动地点
  int64 activity_start_time = 7;      // 活动开始时间（时间戳秒）
  int64 activity_end_time = 8;        // 活动结束时间（时间戳秒）
  int32 max_participants = 9;         // 最大人数（0=不限）
  int32 current_participants = 10;    // 当前报名人数
  int64 organizer_id = 11;            // 组织者ID
  string organizer_name = 12;         // 组织者名称
  string organizer_avatar = 13;       // 组织者头像
  string category_name = 14;          // 分类名称
  // 15-30 预留
}

// BatchGetActivityBasic 批量获取活动基本信息

message BatchGetActivityBasicReq {
  repeated int64 ids = 1;  // 活动ID列表（最多100个）
}

message BatchGetActivityBasicResp {
  repeated GetActivityBasicResp activities = 1;  // 活动列表
}
