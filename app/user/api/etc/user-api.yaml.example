# ============================================================================
# 用户服务 API 配置
# ============================================================================
#
# 使用方法：复制本文件为 user-api.yaml，然后修改配置
#   cp user-api.yaml.example user-api.yaml
#
# 说明：
#   - 所有 API 服务的 Auth.AccessSecret 必须一致
#   - user-api 签发的 Token 在 activity-api、chat-api 中都能验证
#
# ============================================================================

Name: user-api
Host: 127.0.0.1
Port: 8001

# 日志配置
Log:
  ServiceName: user-api
  Mode: console
  Encoding: plain
  Level: info

# ==================== JWT 配置（重要：所有 API 服务必须一致）====================
Auth:
  AccessSecret: "your-access-secret-key-change-in-production-32chars"
  AccessExpire: 7200  # 2小时

# ==================== RPC 服务配置（通过 Etcd 发现）====================
UserRpc:
  Etcd:
    Hosts:
      - 127.0.0.1:2379
    Key: user.rpc
  NonBlock: true
  Timeout: 3000

# ==================== Redis 配置 ====================
BizRedis:
  Host: 127.0.0.1:6379
  Type: node
  Pass: ""

# ==================== MySQL 配置 ====================
MySQL:
  DataSource: root:your_password@tcp(127.0.0.1:3306)/campushub_user?charset=utf8mb4&parseTime=true&loc=Local

# ==================== 链路追踪（可选）====================
# Telemetry:
#   Name: user-api
#   Endpoint: http://127.0.0.1:14268/api/traces
#   Sampler: 1.0
#   Batcher: jaeger
